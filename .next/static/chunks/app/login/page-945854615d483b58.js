(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{9904:function(e,r,t){Promise.resolve().then(t.bind(t,6374))},4935:function(e,r,t){"use strict";t.d(r,{p:function(){return a}});var s=t(7437),n=t(5863);function a(){return(0,s.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[(0,s.jsx)(n.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),(0,s.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]})}},2595:function(e,r,t){"use strict";t.d(r,{z:function(){return i}});var s=t(7437),n=t(2265),a=t(4508);let i=n.forwardRef((e,r)=>{let{className:t,...n}=e;return(0,s.jsx)("button",{className:(0,a.cn)("inline-flex items-center justify-center rounded-md text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2",t),ref:r,...n})});i.displayName="Button"},1973:function(e,r,t){"use strict";t.d(r,{I:function(){return i}});var s=t(7437),n=t(2265),a=t(4508);let i=n.forwardRef((e,r)=>{let{className:t,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",t),ref:r,...i})});i.displayName="Input"},6374:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return o}});var s=t(7437),n=t(2265),a=t(605),i=t(9376),u=t(1973),c=t(2595),l=t(4935);function o(){let e=(0,i.useRouter)(),[r,t]=(0,n.useState)(!1),[o,d]=(0,n.useState)(""),m=async r=>{r.preventDefault(),t(!0),d("");let s=new FormData(r.currentTarget),n=await (0,a.signIn)("credentials",{email:s.get("email"),password:s.get("password"),redirect:!1,callbackUrl:"/api/auth/session"});if(null==n?void 0:n.error)d("Invalid credentials"),t(!1);else{var i;let r=await fetch("/api/auth/session"),t=await r.json();(null==t?void 0:null===(i=t.user)||void 0===i?void 0:i.role)==="ADMIN"?e.push("/dashboard"):e.push("/leasing")}};return r?(0,s.jsx)(l.p,{}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Iniciar Sesi\xf3n"}),o&&(0,s.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Correo Electr\xf3nico"}),(0,s.jsx)(u.I,{id:"email",name:"email",type:"email",required:!0,className:"mt-1"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),(0,s.jsx)(u.I,{id:"password",name:"password",type:"password",required:!0,className:"mt-1"})]}),(0,s.jsx)(c.z,{type:"submit",className:"w-full",children:"Iniciar Sesi\xf3n"})]})]})})}},4508:function(e,r,t){"use strict";t.d(r,{cn:function(){return a}});var s=t(1994),n=t(3335);function a(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,n.m6)((0,s.W)(r))}},5863:function(e,r,t){"use strict";t.d(r,{Z:function(){return s}});let s=(0,t(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9376:function(e,r,t){"use strict";var s=t(5475);t.o(s,"redirect")&&t.d(r,{redirect:function(){return s.redirect}}),t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"usePathname")&&t.d(r,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})}},function(e){e.O(0,[554,605,971,117,744],function(){return e(e.s=9904)}),_N_E=e.O()}]);