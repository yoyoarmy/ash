(()=>{var e={};e.id=4011,e.ids=[4011],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6126:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>o}),s(7203),s(76825),s(35866);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),n=s(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let o=["",{children:["register",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7203)),"/Users/yoyo/Desktop/adspace 2/app/register/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,76825)),"/Users/yoyo/Desktop/adspace 2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yoyo/Desktop/adspace 2/app/register/page.tsx"],m="/register/page",p={require:s,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/register/page",pathname:"/register",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},81427:(e,t,s)=>{Promise.resolve().then(s.bind(s,91472))},66167:(e,t,s)=>{"use strict";s.d(t,{p:()=>i});var a=s(10326),r=s(75290);function i(){return(0,a.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[a.jsx(r.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]})}},64070:(e,t,s)=>{"use strict";s.d(t,{I:()=>l});var a=s(10326),r=s(17577),i=s(77863);let l=r.forwardRef(({className:e,type:t,...s},r)=>a.jsx("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",e),ref:r,...s}));l.displayName="Input"},98268:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>p,Ph:()=>o,Ql:()=>u,i4:()=>c,ki:()=>m});var a=s(10326),r=s(17577),i=s(26909),l=s(941),n=s(32933),d=s(77863);let o=i.fC,c=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:[t,a.jsx(l.Z,{className:"h-4 w-4 opacity-50"})]}));c.displayName=i.xz.displayName;let m=i.B4,p=r.forwardRef(({className:e,children:t,position:s="popper",...r},l)=>a.jsx(i.h_,{children:a.jsx(i.VY,{ref:l,className:(0,d.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:a.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t})})}));p.displayName=i.VY.displayName;let u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(n.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));u.displayName=i.ck.displayName},91472:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(10326),r=s(17577),i=s(35047),l=s(64070),n=s(82610),d=s(66167),o=s(77109),c=s(98268);function m(){let e=(0,i.useRouter)(),{data:t,status:s}=(0,o.useSession)(),[m,p]=(0,r.useState)(!1),[u,x]=(0,r.useState)(""),[h,f]=(0,r.useState)("ASSOCIATE");if("loading"===s)return a.jsx(d.p,{});t?.user&&"ADMIN"===t.user.role||(0,i.redirect)("/login");let g=async t=>{t.preventDefault(),p(!0),x("");let s=new FormData(t.currentTarget),a={name:s.get("name"),email:s.get("email"),password:s.get("password"),role:h};try{if(!(await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw Error("Registration failed");e.push("/login?registered=true")}catch(e){x("Failed to create account. Please try again.")}finally{p(!1)}};return m?a.jsx(d.p,{}):a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md w-96",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6 text-center",children:"Crear Cuenta de Usuario"}),u&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),(0,a.jsxs)("form",{onSubmit:g,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Nombre"}),a.jsx(l.I,{id:"name",name:"name",type:"text",required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),a.jsx(l.I,{id:"email",name:"email",type:"email",required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Contrase\xf1a"}),a.jsx(l.I,{id:"password",name:"password",type:"password",required:!0,className:"mt-1"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rol del Usuario"}),(0,a.jsxs)(c.Ph,{value:h,onValueChange:e=>f(e),children:[a.jsx(c.i4,{className:"w-full bg-white",children:a.jsx(c.ki,{placeholder:"Seleccionar rol"})}),(0,a.jsxs)(c.Bw,{className:"bg-white",children:[a.jsx(c.Ql,{value:"ASSOCIATE",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{children:"Asociado"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Puede gestionar tiendas y inventario"})]})}),a.jsx(c.Ql,{value:"ADVERTISER",children:(0,a.jsxs)("div",{className:"flex flex-col",children:[a.jsx("span",{children:"Cliente"}),a.jsx("span",{className:"text-xs text-gray-500",children:"Puede reservar espacios de publicidad"})]})})]})]})]}),a.jsx(n.z,{type:"submit",className:"w-full",children:"Crear Cuenta"})]})]})})}},7203:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`/Users/yoyo/Desktop/adspace 2/app/register/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[8948,8164,4498,2796,3560],()=>s(6126));module.exports=a})();