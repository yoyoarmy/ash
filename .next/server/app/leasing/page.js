(()=>{var e={};e.id=9912,e.ids=[9912],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12605:(e,a,s)=>{"use strict";s.r(a),s.d(a,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>o}),s(9825),s(76825),s(35866);var t=s(23191),l=s(88716),r=s(37922),i=s.n(r),d=s(95231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);s.d(a,n);let o=["",{children:["leasing",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9825)),"/Users/yoyo/Desktop/adspace 2/app/leasing/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,76825)),"/Users/yoyo/Desktop/adspace 2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yoyo/Desktop/adspace 2/app/leasing/page.tsx"],m="/leasing/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/leasing/page",pathname:"/leasing",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},54872:(e,a,s)=>{Promise.resolve().then(s.bind(s,16093))},66167:(e,a,s)=>{"use strict";s.d(a,{p:()=>r});var t=s(10326),l=s(75290);function r(){return(0,t.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[t.jsx(l.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]})}},83431:(e,a,s)=>{"use strict";s.d(a,{Ol:()=>d,Zb:()=>i,aY:()=>o,ll:()=>n});var t=s(10326),l=s(17577),r=s(77863);let i=l.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...a}));i.displayName="Card";let d=l.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...a}));d.displayName="CardHeader";let n=l.forwardRef(({className:e,...a},s)=>t.jsx("h3",{ref:s,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...a}));n.displayName="CardTitle";let o=l.forwardRef(({className:e,...a},s)=>t.jsx("div",{ref:s,className:(0,r.cn)("p-6 pt-0",e),...a}));o.displayName="CardContent"},57446:(e,a,s)=>{"use strict";s.d(a,{$N:()=>g,GG:()=>m,Vq:()=>n,cZ:()=>x,fK:()=>u,hg:()=>o});var t=s(10326),l=s(17577),r=s(73267),i=s(94019),d=s(77863);let n=r.fC,o=r.xz,c=r.h_,m=r.x8,p=l.forwardRef(({className:e,...a},s)=>t.jsx(r.aV,{ref:s,className:(0,d.cn)("fixed inset-0 z-50 bg-black/50 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));p.displayName=r.aV.displayName;let x=l.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(c,{children:[t.jsx(p,{}),(0,t.jsxs)(r.VY,{ref:l,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[a,(0,t.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-gray-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-gray-100 data-[state=open]:text-gray-500",children:[t.jsx(i.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=r.VY.displayName;let u=({className:e,...a})=>t.jsx("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});u.displayName="DialogHeader";let g=l.forwardRef(({className:e,...a},s)=>t.jsx(r.Dx,{ref:s,className:(0,d.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));g.displayName=r.Dx.displayName},64070:(e,a,s)=>{"use strict";s.d(a,{I:()=>i});var t=s(10326),l=s(17577),r=s(77863);let i=l.forwardRef(({className:e,type:a,...s},l)=>t.jsx("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",e),ref:l,...s}));i.displayName="Input"},70293:(e,a,s)=>{"use strict";s.d(a,{_:()=>i});var t=s(10326),l=s(17577),r=s(77863);let i=l.forwardRef(({className:e,...a},s)=>t.jsx("label",{ref:s,className:(0,r.cn)("text-sm font-medium leading-none",e),...a}));i.displayName="Label"},98268:(e,a,s)=>{"use strict";s.d(a,{Bw:()=>p,Ph:()=>o,Ql:()=>x,i4:()=>c,ki:()=>m});var t=s(10326),l=s(17577),r=s(26909),i=s(941),d=s(32933),n=s(77863);let o=r.fC,c=l.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(r.xz,{ref:l,className:(0,n.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...s,children:[a,t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})]}));c.displayName=r.xz.displayName;let m=r.B4,p=l.forwardRef(({className:e,children:a,position:s="popper",...l},i)=>t.jsx(r.h_,{children:t.jsx(r.VY,{ref:i,className:(0,n.cn)("relative z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...l,children:t.jsx(r.l_,{className:(0,n.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:a})})}));p.displayName=r.VY.displayName;let x=l.forwardRef(({className:e,children:a,...s},l)=>(0,t.jsxs)(r.ck,{ref:l,className:(0,n.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(r.wU,{children:t.jsx(d.Z,{className:"h-4 w-4"})})}),t.jsx(r.eT,{children:a})]}));x.displayName=r.ck.displayName},35912:(e,a,s)=>{"use strict";s.d(a,{FN:()=>c,VW:()=>n,_i:()=>o,sA:()=>m});var t=s(10326),l=s(17577),r=s(76812),i=s(29679),d=s(77863);let n=i.zt,o=l.forwardRef(({className:e,...a},s)=>t.jsx(i.l_,{ref:s,className:(0,d.cn)("fixed top-0 right-0 p-4 flex flex-col gap-2 w-[390px] max-w-[100vw] z-[100]",e),...a}));o.displayName=i.l_.displayName;let c=l.forwardRef(({className:e,...a},s)=>t.jsx(i.fC,{ref:s,className:(0,d.cn)("bg-white rounded-lg shadow-lg p-4 flex items-center gap-4",e),...a}));c.displayName=i.fC.displayName;let m=l.forwardRef(({className:e,...a},s)=>t.jsx(i.x8,{ref:s,className:(0,d.cn)("text-gray-400 hover:text-gray-500",e),"toast-close":"",...a,children:t.jsx(r.Pxu,{className:"h-4 w-4"})}));m.displayName=i.x8.displayName},16093:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>k});var t=s(10326),l=s(17577),r=s(83431),i=s(64070),d=s(70293),n=s(82610),o=s(98268),c=s(37529),m=s(41668),p=s(11347),x=s(63220);function u(e,a){var s=e.getFullYear()-a.getFullYear()||e.getMonth()-a.getMonth()||e.getDate()-a.getDate()||e.getHours()-a.getHours()||e.getMinutes()-a.getMinutes()||e.getSeconds()-a.getSeconds()||e.getMilliseconds()-a.getMilliseconds();return s<0?-1:s>0?1:s}function g(e,a){(0,x.Z)(2,arguments);var s=(0,m.Z)(e),t=(0,m.Z)(a),l=u(s,t),r=Math.abs((0,p.Z)(s,t));s.setDate(s.getDate()-l*r);var i=Number(u(s,t)===-l),d=l*(r-i);return 0===d?0:d}var h=s(21972),f=s(79611),j=s(14689);s(8228);var b=s(71939),v=s(35912),N=s(54659),y=s(66167),w=s(77109),C=s(41726),S=s(26245),I=s(57446),D=s(12714);function k(){let{data:e}=(0,w.useSession)(),[a,s]=(0,l.useState)(""),[m,p]=(0,l.useState)([]),[x,u]=(0,l.useState)(""),[k,P]=(0,l.useState)([]),[_,M]=(0,l.useState)(""),[A,Z]=(0,l.useState)([]),[R,T]=(0,l.useState)(null),[E,z]=(0,l.useState)({from:void 0,to:void 0}),[q,G]=(0,l.useState)(!1),[U,V]=(0,l.useState)(void 0),{addNotification:F}=(0,b.z)(),[O,L]=(0,l.useState)({show:!1,message:""}),[Y,B]=(0,l.useState)([]),[$,Q]=(0,l.useState)(!1),[W,H]=(0,l.useState)(!0),[K,X]=(0,l.useState)(!1),[J,ee]=(0,l.useState)(!1),[ea,es]=(0,l.useState)([]),[et,el]=(0,l.useState)(""),[er,ei]=(0,l.useState)(!1),[ed,en]=(0,l.useState)(""),[eo,ec]=(0,l.useState)([]),[em,ep]=(0,l.useState)(!0),[ex,eu]=(0,l.useState)([]),[eg,eh]=(0,l.useState)([]),{addItem:ef,formData:ej,setFormData:eb}=(0,S.j)(),[ev,eN]=(0,l.useState)(""),[ey,ew]=(0,l.useState)(""),[eC,eS]=(0,l.useState)(new Map),[eI,eD]=(0,l.useState)(!1),[ek,eP]=(0,l.useState)({url:"",amount:""}),e_=e=>{let a=e.toISOString().split("T")[0];return!eC.has(a)||eC.get(a)},eM=(e,a)=>{let s=[],t=1;for(;s.length<52;){let l=(0,h.Z)(e,a*t-1),r=!0;for(let a=e;a<=l;a=(0,h.Z)(a,1))if(!e_(a)){r=!1;break}r&&s.push(l),t++}return s},eA=()=>R&&E.from&&E.to?eZ(R.mediaItem.mediaItemType.id)?ey?parseFloat(ey):0:Math.floor((g(E.to,E.from)+1)/R.mediaItem.leaseDuration)*R.mediaItem.basePrice:0,eZ=e=>{let a=7===e;return console.log("isPlanAlaMedida check:",{mediaTypeId:e,result:a}),a},eR=(e,a)=>{eP(s=>({...s,[e]:a})),"url"===e?(eN(a),eb(e=>({...e,planAlaMedida:a}))):"amount"===e&&(ew(a),eb(e=>({...e,planAlaMedidaAmount:a?parseFloat(a):null})))};return $?t.jsx(y.p,{}):(0,t.jsxs)(v.VW,{children:[(0,t.jsxs)("div",{className:"p-6 bg-gray-100 min-h-screen",children:[t.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Nueva Solicitud"}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,t.jsxs)(r.Zb,{className:"bg-white shadow-md",children:[t.jsx(r.Ol,{className:"border-b border-gray-100",children:t.jsx(r.ll,{className:"text-xl text-gray-800",children:"Informaci\xf3n B\xe1sica"})}),(0,t.jsxs)(r.aY,{className:"space-y-4 p-6 bg-white",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Nombre del Cliente"}),t.jsx(i.I,{value:a,onChange:e=>{let a=e.target.value;s(a),eb(e=>e?{...e,customerName:a}:null)},placeholder:"Ingrese nombre del cliente",disabled:e?.user?.role==="ADVERTISER",required:!0})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Informaci\xf3n del Proveedor"}),t.jsx(i.I,{value:ej?.providerInfo||"",onChange:e=>eb(a=>({...a,providerInfo:e.target.value})),placeholder:"Proveedor (Incluir nombre y C\xf3digo externo de Aludra) + Marca"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Detalles del Producto"}),t.jsx(i.I,{value:ej?.productDetails||"",onChange:e=>eb(a=>({...a,productDetails:e.target.value})),placeholder:"Producto que se desea destacar dentro de la marca (Nombre + SKU)"})]})]})]}),(0,t.jsxs)(r.Zb,{className:"bg-white shadow-md",children:[t.jsx(r.Ol,{className:"border-b border-gray-100",children:t.jsx(r.ll,{className:"text-xl text-gray-800",children:"Detalles de Campa\xf1a"})}),(0,t.jsxs)(r.aY,{className:"space-y-4 p-6 bg-white",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Redirecci\xf3n de Campa\xf1a"}),(0,t.jsxs)(o.Ph,{value:ej?.campaignRedirect||"",onValueChange:e=>eb(a=>({...a,campaignRedirect:e})),children:[t.jsx(o.i4,{className:"w-full bg-white",children:t.jsx(o.ki,{placeholder:"Seleccione la redirecci\xf3n de la campa\xf1a"})}),(0,t.jsxs)(o.Bw,{className:"bg-white",children:[t.jsx(o.Ql,{value:"Agrupado",children:"Agrupado"}),t.jsx(o.Ql,{value:"No Aplica",children:"No Aplica"}),t.jsx(o.Ql,{value:"Producto Unico",children:"Producto Unico"})]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Objetivos de Marketing"}),t.jsx("textarea",{className:"w-full p-2 border rounded-md",value:ej?.marketingGoals||"",onChange:e=>eb(a=>({...a,marketingGoals:e.target.value})),placeholder:"\xbfA nivel comercial, que NO puede hacer falta en el arte promocional? \xbfQu\xe9 necesitas lograr con esta comunicaci\xf3n?",rows:4})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Disclaimer"}),t.jsx("textarea",{className:"w-full p-2 border rounded-md",value:ej?.disclaimer||"",onChange:e=>eb(a=>({...a,disclaimer:e.target.value})),placeholder:"Inserte el disclaimer que debe llevar el arte promocional",rows:3})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"URL del Producto"}),t.jsx(i.I,{type:"url",name:"productUrl",value:ej?.productUrl||"",onChange:e=>eb(a=>({...a,productUrl:e.target.value})),placeholder:"URL del producto"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"P\xfablico Objetivo"}),t.jsx("textarea",{className:"w-full p-2 border rounded-md",value:ej?.targetAudience||"",onChange:e=>eb(a=>({...a,targetAudience:e.target.value})),placeholder:"Especifica a quienes quisieras dirigir esta comunicaci\xf3n. Trata de ser muy detallado. (Ej. Cliente final o contratista, interesados en algo en particular, de cierta edad, g\xe9nero, etc)",rows:4})]})]})]}),(0,t.jsxs)(r.Zb,{className:"bg-white shadow-md",children:[t.jsx(r.Ol,{className:"border-b border-gray-100",children:t.jsx(r.ll,{className:"text-xl text-gray-800",children:"Informaci\xf3n Adicional"})}),(0,t.jsxs)(r.aY,{className:"space-y-4 p-6 bg-white",children:[(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Linea Gr\xe1fica"}),t.jsx(i.I,{value:ej?.brandGraphics||"",onChange:e=>eb(a=>({...a,brandGraphics:e.target.value})),placeholder:"Si el proveedor ha solicitado usar su l\xednea gr\xe1fica, ingresa link del drive, WeTransfer o Dropbox con el material"})]}),(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Contacto del Proveedor"}),t.jsx(i.I,{value:ej?.providerContact||"",onChange:e=>eb(a=>({...a,providerContact:e.target.value})),placeholder:"Contacto del proveedor para que se le env\xede la informaci\xf3n"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(d._,{children:"Se debe facturar"}),(0,t.jsxs)("div",{className:"space-x-4",children:[(0,t.jsxs)("label",{className:"inline-flex items-center",children:[t.jsx("input",{type:"checkbox",checked:ej?.billingType.includes("INVOICE")||!1,onChange:e=>{let a=e.target.checked?[...ej.billingType,"INVOICE"]:ej.billingType.filter(e=>"INVOICE"!==e);eb(e=>({...e,billingType:a}))},className:"form-checkbox"}),t.jsx("span",{className:"ml-2",children:"Se debe facturar"})]}),(0,t.jsxs)("label",{className:"inline-flex items-center",children:[t.jsx("input",{type:"checkbox",checked:ej?.billingType.includes("GIFT")||!1,onChange:e=>{let a=e.target.checked?[...ej.billingType,"GIFT"]:ej.billingType.filter(e=>"GIFT"!==e);eb(e=>({...e,billingType:a}))},className:"form-checkbox"}),t.jsx("span",{className:"ml-2",children:"Es Regalia"})]})]})]}),ej?.billingType.includes("GIFT")&&(0,t.jsxs)("div",{children:[t.jsx(d._,{children:"Regalia"}),t.jsx(i.I,{value:ej?.giftCampaignDetails||"",onChange:e=>eb(a=>({...a,giftCampaignDetails:e.target.value})),placeholder:"Si es regal\xeda especificar a qu\xe9 campa\xf1a corresponde. "})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx(d._,{className:"text-gray-700",children:"Seleccionar Marca"}),(0,t.jsxs)(o.Ph,{value:x,onValueChange:e=>{u(e),M(""),Z([]),T(null),G(!1)},disabled:W,children:[t.jsx(o.i4,{className:"mt-1 w-full border-gray-200",children:t.jsx(o.ki,{placeholder:W?"Cargando marcas...":"Seleccione una marca"})}),t.jsx(o.Bw,{className:"bg-white",children:m.map(e=>t.jsx(o.Ql,{value:e.id.toString(),className:"hover:bg-gray-50",children:e.name},e.id))})]})]}),x&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx(d._,{className:"text-gray-700",children:"Tipo de Medio"}),(0,t.jsxs)(o.Ph,{value:ed,onValueChange:en,children:[t.jsx(o.i4,{className:"mt-1 w-full border-gray-200",children:t.jsx(o.ki,{placeholder:"Seleccione tipo de medio"})}),t.jsx(o.Bw,{className:"bg-white",children:ex.map(e=>t.jsx(o.Ql,{value:e.id.toString(),className:"hover:bg-gray-50",children:e.name},e.id))})]})]}),ed&&eZ(parseInt(ed))&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Plan a la Medida - Informaci\xf3n Adicional"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"URL del Plan"}),t.jsx(i.I,{placeholder:"Ingrese la URL del plan...",value:ek.url,onChange:e=>eR("url",e.target.value),required:!0,className:"w-full"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Monto del Plan"}),t.jsx(i.I,{type:"number",step:"0.01",placeholder:"Ingrese el monto...",value:ek.amount,onChange:e=>eR("amount",e.target.value),required:!0,className:"w-full"})]})]})]}),x&&ed&&(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[t.jsx(d._,{className:"text-gray-700",children:"Inventario Disponible"}),J?t.jsx("div",{className:"text-center py-6 text-gray-500",children:"Cargando inventario..."}):eg.length>0?t.jsx("div",{className:"mt-2 space-y-3",children:eg.map(e=>(0,t.jsxs)("button",{className:"w-full text-left p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors duration-150",onClick:()=>{console.log("Space selected:",e),T(e),z({from:void 0,to:void 0}),G(!0)},children:[(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("h3",{className:"font-medium text-gray-800",children:[e.mediaItem.type,"  |  ",e.storeName]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[e.photo&&(0,t.jsxs)(I.Vq,{children:[t.jsx(I.hg,{asChild:!0,children:t.jsx(n.z,{variant:"ghost",size:"sm",className:"text-gray-400 hover:text-blue-700",onClick:e=>e.stopPropagation(),children:t.jsx(D.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(I.cZ,{className:"max-w-3xl",children:[t.jsx(I.fK,{children:t.jsx(I.$N,{children:"Vista Previa de Foto"})}),t.jsx("div",{className:"relative aspect-video",children:t.jsx("img",{src:e.photo,alt:`${e.mediaItem.type} preview`,className:"w-full h-full object-contain",onError:a=>{console.error("Error loading image:",e.photo),a.currentTarget.src="/placeholder-image.jpg"}})})]})]}),t.jsx("span",{className:`px-2 py-1 rounded text-sm ${e.isAtCapacity?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:e.isAtCapacity?"No Disponible":"Disponible"})]})]}),(0,t.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,t.jsxs)("p",{children:["Dimensiones: ",e.mediaItem.dimensions]}),(0,t.jsxs)("p",{children:["Precio Base: $",e.mediaItem.basePrice]}),(0,t.jsxs)("p",{children:["Duraci\xf3n del Arriendo: ",e.mediaItem.leaseDuration," d\xedas"]})]}),e.upcomingLeases?.length>0&&(0,t.jsxs)("div",{className:"mt-2 pt-2 border-t border-gray-100",children:[t.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Arriendos Pr\xf3ximos:"}),e.upcomingLeases.map((e,a)=>(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,j.Z)(new Date(e.startDate),"d MMM",{locale:C.Z})," - ",(0,j.Z)(new Date(e.endDate),"d MMM yyyy",{locale:C.Z})]},a))]})]},e.id))}):t.jsx("div",{className:"text-center py-6 text-gray-500",children:"No hay espacios disponibles para este tipo de medio"})]})]}),q&&R&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-[800px] w-full shadow-xl",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[t.jsx("h3",{className:"text-lg font-medium",children:"Seleccionar Fechas"}),t.jsx("button",{onClick:()=>{G(!1),V(void 0),z({from:void 0,to:void 0})},className:"text-gray-500 hover:text-gray-700",children:"✕"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:U?`Seleccione fecha final (debe ser en incrementos de ${R.mediaItem.leaseDuration} d\xedas)`:"Seleccione fecha de inicio"}),t.jsx("div",{className:"bg-white p-4 rounded-lg",children:t.jsx(c._W,{mode:"single",selected:E.from,onSelect:e=>{R&&e&&(U?eM(U,R.mediaItem.leaseDuration).some(a=>(0,f.Z)(a,e))?z({from:U,to:e}):F(`Por favor seleccione una fecha v\xe1lida basada en la duraci\xf3n del arriendo de ${R.mediaItem.leaseDuration} d\xedas`):e_(e)?(V(e),z({from:e,to:void 0})):F("Esta fecha no est\xe1 disponible - capacidad alcanzada"))},numberOfMonths:2,fromDate:new Date,toDate:(0,h.Z)(new Date,365),locale:C.Z,modifiers:{disabled:[{before:new Date},U&&{after:(0,h.Z)(U,365)},...Y.map(e=>({from:new Date(e.start),to:new Date(e.end)}))].filter(Boolean),highlighted:U?eM(U,R.mediaItem.leaseDuration):[]},modifiersStyles:{highlighted:{backgroundColor:"#e0f2fe",borderRadius:"100%"},disabled:{backgroundColor:"#fee2e2",borderRadius:"100%",color:"#991b1b"}},formatters:{formatCaption:(e,a)=>(0,j.Z)(e,"MMMM yyyy",{locale:C.Z}).replace(/^\w/,e=>e.toUpperCase()),formatWeekdayName:e=>(0,j.Z)(e,"EEEEEE",{locale:C.Z}).toUpperCase()},className:"bg-white mx-auto"})})]}),E.from&&E.to&&(0,t.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Duraci\xf3n seleccionada: ",g(E.to,E.from)+1," d\xedas"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Monto del arriendo: $",eA().toLocaleString()]}),t.jsx(n.z,{className:"w-full mt-2 bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>{if(!R||!E.from||!E.to)return;let e={customerName:a,providerInfo:ej?.providerInfo||"",productDetails:ej?.productDetails||"",campaignRedirect:ej?.campaignRedirect||"",marketingGoals:ej?.marketingGoals||"",disclaimer:ej?.disclaimer||"",productUrl:ej?.productUrl||"",targetAudience:ej?.targetAudience||"",brandGraphics:ej?.brandGraphics||"",providerContact:ej?.providerContact||"",billingType:ej?.billingType||[],giftCampaignDetails:ej?.giftCampaignDetails||"",planAlaMedida:ej?.planAlaMedida||"",planAlaMedidaAmount:ey?parseFloat(ey):null};console.log("Adding to cart with data:",e),ef({spaceId:R.id,storeName:R.store?.name||"",mediaType:R.mediaItem.type,startDate:E.from,endDate:E.to,amount:eA(),extraInformation:e}),T(null),z({from:void 0,to:void 0}),G(!1),eN(""),ew(""),F("Agregado al carrito correctamente")},disabled:$,children:"Agregar al carrito"})]})]})})]}),O.show&&t.jsx(v.FN,{className:"fixed top-4 right-4 z-50 bg-green-50 border border-green-100 animate-slide-in",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(N.Z,{className:"h-5 w-5 text-green-500"}),t.jsx("div",{className:"flex-1 text-sm font-medium text-green-800",children:O.message})]})}),t.jsx(v._i,{})]})}},12714:(e,a,s)=>{"use strict";s.d(a,{Z:()=>t});let t=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9825:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>t});let t=(0,s(68570).createProxy)(String.raw`/Users/yoyo/Desktop/adspace 2/app/leasing/page.tsx#default`)}};var a=require("../../webpack-runtime.js");a.C(e);var s=e=>a(a.s=e),t=a.X(0,[8948,8164,4498,2796,3267,9781,4724,3560],()=>s(12605));module.exports=t})();