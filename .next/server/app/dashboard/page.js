(()=>{var e={};e.id=7702,e.ids=[7702],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},86359:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>o}),a(69521),a(76825),a(35866);var t=a(23191),l=a(88716),r=a(37922),n=a.n(r),i=a(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,69521)),"/Users/yoyo/Desktop/adspace 2/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,76825)),"/Users/yoyo/Desktop/adspace 2/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/yoyo/Desktop/adspace 2/app/dashboard/page.tsx"],x="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new t.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},50252:(e,s,a)=>{Promise.resolve().then(a.bind(a,47581))},53766:(e,s,a)=>{"use strict";a.d(s,{r:()=>m});var t=a(10326),l=a(17577),r=a(37529),n=a(14689),i=a(82610),d=a(37358),o=a(11890),c=a(39183),x=a(41726);function m({onDateRangeChange:e}){let[s,a]=(0,l.useState)(!1),[m,h]=(0,l.useState)({from:new Date,to:new Date(new Date().getFullYear(),11,31)});return(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)(i.z,{onClick:()=>a(!s),variant:"outline",className:"bg-white w-[240px] justify-start text-left font-normal",children:[t.jsx(d.Z,{className:"mr-2 h-4 w-4"}),m?.from?m.to?(0,t.jsxs)(t.Fragment,{children:[(0,n.Z)(m.from,"d MMM",{locale:x.Z})," -"," ",(0,n.Z)(m.to,"d MMM, yyyy",{locale:x.Z})]}):(0,n.Z)(m.from,"d MMM, yyyy",{locale:x.Z}):t.jsx("span",{children:"Seleccionar fechas"})]}),s&&(0,t.jsxs)("div",{className:"absolute top-full mt-2 bg-white rounded-lg shadow-lg p-4 z-50",children:[t.jsx(r._W,{mode:"range",defaultMonth:m?.from,selected:m,onSelect:s=>{h(s),e(s)},numberOfMonths:2,locale:x.Z,formatters:{formatCaption:e=>(0,n.Z)(e,"MMMM yyyy",{locale:x.Z}).replace(/^\w/,e=>e.toUpperCase()),formatWeekdayName:e=>(0,n.Z)(e,"EEEEEE",{locale:x.Z}).toUpperCase()},components:{IconLeft:({...e})=>t.jsx(o.Z,{className:"h-4 w-4",...e}),IconRight:({...e})=>t.jsx(c.Z,{className:"h-4 w-4",...e})},modifiers:{range:m},modifiersStyles:{range_start:{color:"white",backgroundColor:"#3b82f6"},range_end:{color:"white",backgroundColor:"#3b82f6"},range_middle:{color:"#1e3a8a",backgroundColor:"#eff6ff"}}}),(0,t.jsxs)("div",{className:"mt-4 flex justify-end gap-2",children:[t.jsx(i.z,{className:"bg-white hover:bg-gray-50 border border-gray-200",onClick:()=>{let s={from:new Date,to:new Date(new Date().getFullYear(),11,31)};h(s),e(s)},children:"Reiniciar"}),t.jsx(i.z,{className:"bg-blue-600 hover:bg-blue-700 text-white",onClick:()=>a(!1),children:"Cerrar"})]})]})]})}a(8228)},66167:(e,s,a)=>{"use strict";a.d(s,{p:()=>r});var t=a(10326),l=a(75290);function r(){return(0,t.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[t.jsx(l.Z,{className:"h-8 w-8 animate-spin text-blue-500"}),t.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Loading..."})]})}},88656:(e,s,a)=>{"use strict";a.d(s,{Z:()=>l});var t=a(10326);function l({totalAdItems:e,availableSpaces:s,occupiedSpaces:a}){return(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Total Espacios"}),t.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Disponibles"}),t.jsx("p",{className:"text-3xl font-bold text-green-600",children:s})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Ocupados"}),t.jsx("p",{className:"text-3xl font-bold text-amber-600",children:a})]}),(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Utilizaci\xf3n"}),(0,t.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:[e?Math.round(a/e*100):0,"%"]})]})]})}},6994:(e,s,a)=>{"use strict";a.d(s,{p:()=>i});var t=a(10326),l=a(77109),r=a(35047),n=a(66167);function i({children:e,allowedRoles:s}){let{data:a,status:i}=(0,l.useSession)();return"loading"===i?t.jsx(n.p,{}):(a?.user&&s.includes(a.user.role)||(0,r.redirect)("/leasing"),t.jsx(t.Fragment,{children:e}))}},64070:(e,s,a)=>{"use strict";a.d(s,{I:()=>n});var t=a(10326),l=a(17577),r=a(77863);let n=l.forwardRef(({className:e,type:s,...a},l)=>t.jsx("input",{type:s,className:(0,r.cn)("flex h-10 w-full rounded-md border bg-background px-3 py-2 text-sm",e),ref:l,...a}));n.displayName="Input"},47581:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>x});var t=a(10326),l=a(17577),r=a(90434),n=a(88656),i=a(64070),d=a(53766),o=a(66167),c=a(6994);function x(){let[e,s]=(0,l.useState)([]),[a,x]=(0,l.useState)(!0),[m,h]=(0,l.useState)(""),[u,p]=(0,l.useState)({from:new Date,to:new Date(new Date().getFullYear(),11,31)}),g=(0,l.useMemo)(()=>e.filter(e=>e.name.toLowerCase().includes(m.toLowerCase())).map(e=>{let s=e.mediaItems.flatMap(e=>e.mediaSpaces),a={total:s.length,inUse:s.filter(e=>e.leases?.some(e=>{if(!u?.from||!u?.to)return!1;let s=new Date(e.startDate),a=new Date(e.endDate);return 7!==e.statusId&&s<=u.to&&a>=u.from})).length,available:0};return a.available=a.total-a.inUse,{...e,stats:a}}),[e,m,u]),f=(0,l.useMemo)(()=>g.reduce((e,s)=>({total:e.total+s.stats.total,available:e.available+s.stats.available,inUse:e.inUse+s.stats.inUse}),{total:0,available:0,inUse:0}),[g]);return a?t.jsx(o.p,{}):t.jsx(c.p,{allowedRoles:["ADMIN","ASSOCIATE"],children:(0,t.jsxs)("div",{className:"space-y-6",children:[t.jsx(n.Z,{totalAdItems:f.total,availableSpaces:f.available,occupiedSpaces:f.inUse}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"flex justify-between items-center mb-6",children:t.jsx("h1",{className:"text-2xl font-bold",children:"Tipos de Medios"})}),(0,t.jsxs)("div",{className:"flex gap-4 mb-6 items-center",children:[t.jsx("div",{className:"flex-none",children:t.jsx(d.r,{onDateRangeChange:p})}),t.jsx("div",{className:"flex-1",children:t.jsx(i.I,{placeholder:"Buscar tipos de medios...",value:m,onChange:e=>h(e.target.value),className:"w-full"})})]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:g.map(e=>t.jsx(r.default,{href:`/dashboard/dashboard?mediaTypeId=${e.id}`,className:"block",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md hover:shadow-xl transition-shadow duration-200 p-4",children:[(0,t.jsxs)("div",{className:"mb-2",children:[t.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-600 truncate",children:[e.mediaItems.length," productos diferentes"]})]}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"Total:"}),t.jsx("span",{className:"font-medium",children:e.stats.total})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-green-600",children:"Disponibles:"}),t.jsx("span",{className:"font-medium",children:e.stats.available})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-amber-600",children:" Ocupados:"}),t.jsx("span",{className:"font-medium",children:e.stats.inUse})]})]})]})},e.id))})]})]})})}},37358:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},11890:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},39183:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},75290:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(76557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},69521:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`/Users/yoyo/Desktop/adspace 2/app/dashboard/page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,8164,9781,3560],()=>a(86359));module.exports=t})();